# @microservices-dashboard/common

Shared library for microservices-dashboard backend microservices.
Provides reusable DTOs, entities, validation, error handling, logging, and configuration to ensure consistency across all services.

## ğŸ“¦ Features

* DTOs â€“ Standardized data transfer objects for input/output.
* Entities â€“ Shared database models (TypeORM/Prisma/Sequelize compatible).
* Validation â€“ Centralized class-validator utilities with consistent error handling.
* Errors â€“ Custom error classes with structured error codes.
* Logging â€“ Shared Winston-based logger.
* Config â€“ Centralized environment configuration loader and validation.

## ğŸ—‚ï¸ Directory Structure

```bash
src/
â”œâ”€â”€ dto/                # Shared Data Transfer Objects
â”œâ”€â”€ entities/           # Database entities
â”œâ”€â”€ validation/         # Validation utilities
â”œâ”€â”€ errors/             # Custom error classes
â”œâ”€â”€ logging/            # Logger setup
â”œâ”€â”€ config/             # App configuration & env validation
â””â”€â”€ index.ts            # Export all modules
```

## âš™ï¸ Installation

This module is intended for local use in microservices, imported via path alias or relative import.

# From root of microservices-dashboard

```bash
 backend/common
npm install
npm run build
```

## ğŸ”— Usage

### Import shared modules

Using TypeScript path alias (@common) or relative imports:

```bash
import { logger, AppError } from "@common";
import { validateDto, ValidationException } from "@common/validation";
import { CreateUserDto } from "@common/dto";

Example: Validate DTO
async function registerUser(reqBody: any) {
  try {
    const dto = await validateDto(CreateUserDto, reqBody);
    console.log("Validated DTO:", dto);
  } catch (err) {
    if (err instanceof ValidationException) {
      console.error("Validation errors:", err.errors);
    }
  }
}
```

### Example: Logger

```bash
import { logger } from "@common";

logger.info("Service started successfully");
logger.error("Something went wrong", { context: "registerUser" });

ğŸ›  Scripts
{
  "scripts": {
    "build": "tsc -p tsconfig.json",
    "clean": "rm -rf dist"
  }
}
```

build â€“ Compile TypeScript into dist/.
clean â€“ Remove compiled files.

## âš¡ Notes

* Always use validateDto for input validation across services.
* Use AppError and structured error codes for consistent error handling.
* This library should be imported only by backend services, not frontend.
